{% extends 'base.html' %}

{% block content %}

<style>
/* page base */
body {
  font-family: 'Playfair Display', Georgia, serif;
  background: #fafafa;
  color: #222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* page container */
.page-wrap {
  max-width: 1600px;
  margin: 48px auto;
  padding: 0 20px;
}

/* title */
.page-title {
  font-family: 'Playfair Display', Georgia, serif;
  color: #b22222;
  text-align: center;
  font-size: 20px;
  font-weight: 900;
  margin-bottom: 28px;
}

/* table header row that appears above cards */
.header-row {
  display: grid;
  grid-template-columns: 60px 1fr 1fr 1.2fr;
  gap: 24px;
  align-items: center;
  color: #b22222;
  font-weight: 600;
  padding: 8px 24px;
  margin-bottom: 18px;
  letter-spacing: 0.6px;
}
.header-row .col { text-align: center; }

/* cards list - each card occupies full row with large rounded corners and shadow as in screenshot */
.councils-list {
  display: flex;
  flex-direction: column;
  gap: 28px;
  /* allow hover scale to overflow without cutting off */
  overflow: visible;
  position: relative;
  z-index: 0;
}

/* single card */
.council-card {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 18px 30px rgba(0,0,0,0.08);
  padding: 30px;
  border: 1px solid rgba(178,34,34,0.05);
  display: grid;
  grid-template-columns: 60px 1fr 1fr 1.2fr;
  gap: 24px;
  align-items: center;

  /* transition & transform settings for smooth zooming + slight lift */
  transition: transform 240ms cubic-bezier(.22,.9,.3,1), box-shadow 240ms ease, z-index 0ms;
  transform-origin: center;
  will-change: transform;
  position: relative; /* ensure z-index works */
}

/* hover: zoom and extend width visually (scale) and lift above neighbours */
.council-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 28px 48px rgba(0,0,0,0.14);
  z-index: 5;
}

/* number column */
.council-num {
  font-weight: 600;
  color: #222;
  text-align: center;
  font-size: 16px;
}

/* name / title column - multi line centered */
.council-info {
  text-align: center;
}
.council-info .council-name {
  font-weight: 600;
  color: #222;
  margin-bottom: 6px;
}

/* designation column - center stacked */
.council-designation {
  text-align: center;
  color: #222;
  font-weight: 600;
}

/* membership column - right-aligned block like screenshot */
.council-membership {
  text-align: right;
  color: #333;
  line-height: 1.6;
  font-size: 0.95rem;
  max-width: 100%;
}

/* small-screen layout - stack card content vertically */
@media (max-width: 900px) {
  .header-row { display: none; }
  .council-card { grid-template-columns: 1fr; text-align: left; padding: 20px; }
  .council-num { text-align: left; }
  .council-info, .council-designation, .council-membership { text-align: left; }
  .council-membership { margin-top: 8px; }
  /* reduce hover scale on small screens for better fit */
  .council-card:hover { transform: translateY(-6px) scale(1.01); }
}

/* very small */
@media (max-width: 480px) {
  .page-wrap { padding: 0 12px; margin: 24px auto; }
  .council-card { padding: 16px; border-radius: 12px; }
  .council-card:hover { transform: none; box-shadow: 0 12px 20px rgba(0,0,0,0.06); z-index:1; }
}

/* mobile labels (hidden on desktop, shown on small screens) */
.mobile-label {
  display: none;
  color: #b22222;
  font-weight: 700;
  margin-bottom: 8px;
  font-family: Georgia, "Times New Roman", serif;
  font-size: 1rem;
}

/* small-screen layout - stack card content vertically but show two-column header then full-width about */
@media (max-width: 900px) {
  .header-row { display: none; }

  /* change card to 2-column grid: name | designation, membership spans full width */
  .council-card {
    grid-template-columns: 1fr 1fr;
    padding: 18px;
    gap: 12px;
    align-items: start;
  }
  .council-num { grid-column: 1 / 2; text-align: left; }

  .council-info {
    grid-column: 1 / 2;
    text-align: left;
  }
  .council-designation {
    grid-column: 2 / 3;
    text-align: left;
  }

  /* show labels above each mobile column */
  .mobile-label { display: block; }

  /* membership becomes full width beneath the two columns */
  .council-membership {
    grid-column: 1 / -1;
    text-align: left;
    margin-top: 12px;
    padding-top: 8px;
    border-top: 1px solid rgba(0,0,0,0.04);
  }

  /* reduce hover transform on mobile */
  .council-card:hover { transform: translateY(-4px) scale(1.005); box-shadow: 0 20px 36px rgba(0,0,0,0.08); }
}

/* even smaller screens: tighten spacing and font sizes */
@media (max-width: 480px) {
  .council-card {
    padding: 14px;
    border-radius: 12px;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  .page-wrap { margin: 24px auto; padding: 0 12px; }
  .mobile-label { font-size: 0.95rem; }
  .council-name { font-size: 1rem; }
  .council-designation { font-size: 0.95rem; }
  .council-membership { font-size: 0.95rem; line-height: 1.45; }
}
</style>

<div class="page-wrap">
  <h1 class="page-title">Academic Council</h1>
  <div class="header-row" role="presentation" aria-hidden="true">
    <div class="col">Sl.No.</div>
    <div class="col">Name</div>
    <div class="col">Designation</div>
    <div class="col">Membership in the Council</div>
  </div>

  <div class="councils-list">
    {% for council in councils %}
      <article class="council-card" role="article" aria-labelledby="council-{{ forloop.counter }}-title">
        <div class="council-num">{{ forloop.counter }}</div>

        <div class="council-info">
          <div class="mobile-label">Name</div>
          <div id="council-{{ forloop.counter }}-title" class="council-name">{{ council.name }}</div>
        </div>

        <div class="council-designation">
          <div class="mobile-label">Designation</div>
          <div class="designation-main">{{ council.designation }}</div>
        </div>

        <div class="council-membership">
          <div class="mobile-label">Membership in the Council</div>
          {{ council.membership_in_council|linebreaks }}
        </div>
      </article>
    {% empty %}
      <div class="council-card no-councils" style="grid-template-columns:1fr;">
        <div class="council-num">â€”</div>
        <div style="grid-column:2/-1;text-align:center;color:#666;">No council members available.</div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
